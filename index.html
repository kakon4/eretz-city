<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>משחק ארץ עיר</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f8ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            width: 100%;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .game-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
            position: relative;
            height: auto;
            min-height: 450px; /* מגדיר גובה מינימלי לאזור המשחק */
            overflow-y: auto;
        }
        
        .skip-button {
            background-color: #f39c12;
            margin-left: 10px;
        }
        
        .skip-button:hover {
            background-color: #e67e22;
        }
        
        .skip-button:disabled {
            background-color: #d7d7d7;
            cursor: not-allowed;
        }
        
        .skip-counter {
            background-color: #f9e7cb;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            color: #e67e22;
            margin-left: 10px;
        }
        
        .info-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        
        .timer, .score, .level {
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .timer {
            color: #e74c3c;
        }
        
        .score {
            color: #2980b9;
        }
        
        .level {
            color: #27ae60;
        }
        
        .clue-container {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #e6e6e6;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        
        .clue {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #34495e;
        }
        
        .letter-info {
            font-size: 1rem;
            color: #7f8c8d;
            font-style: italic;
        }
        
        .answer-container {
            margin-bottom: 20px;
        }
        
        .letter-boxes {
            display: flex;
            flex-direction: row-reverse;
            justify-content: center;
            gap: 5px;
            margin-bottom: 15px;
            flex-wrap: nowrap; /* מונע שבירת שורה */
            overflow-x: auto; /* מאפשר גלילה אופקית אם יש יותר מדי תיבות */
            padding: 5px 0; /* מרווח לנוחות הגלילה */
            width: 100%;
            max-width: 100%;
        }
        
        .letter-box {
            width: 38px;
            height: 38px;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            font-size: 1.3rem;
            text-align: center;
            font-weight: bold;
            padding: 5px;
            text-transform: uppercase;
            flex-shrink: 0; /* מונע מהתיבות להתכווץ */
        }
        
        .letter-box:focus {
            border-color: #3498db;
            outline: none;
            background-color: #f0f8ff;
        }
        
        input.hidden-input {
            position: absolute;
            opacity: 0;
            height: 0;
            width: 0;
        }
        
        input:focus {
            border-color: #3498db;
            outline: none;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .correct {
            background-color: #d4edda;
            color: #155724;
        }
        
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .progress-bar {
            width: 100%;
            background-color: #e9ecef;
            border-radius: 5px;
            margin-bottom: 20px;
            height: 20px;
        }
        
        .progress {
            height: 100%;
            background-color: #27ae60;
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s;
        }
        
        .leaderboard {
            width: 100%;
            max-width: 600px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        
        .leaderboard h2 {
            text-align: center;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #e6e6e6;
        }
        
        th {
            background-color: #f8f9fa;
            color: #2c3e50;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        tr:hover {
            background-color: #f2f2f2;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
        }
        
        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 500px;
            text-align: center;
        }
        
        .close {
            color: #aaa;
            float: left;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover {
            color: black;
        }
        
        .game-over-message {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .final-score {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #3498db;
            font-weight: bold;
        }
        
        .play-again {
            background-color: #27ae60;
        }
        
        .play-again:hover {
            background-color: #219653;
        }
        
        .level-up {
            animation: pulse 1s;
            font-size: 1.5rem;
            text-align: center;
            color: #27ae60;
            margin-bottom: 15px;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .screen {
            display: none;
            width: 100%;
            max-width: 600px;
        }
        
        .start-screen {
            display: block;
            text-align: center;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 40px 20px;
            margin-top: 50px;
        }
        
        .start-screen h2 {
            margin-bottom: 20px;
            color: #2c3e50;
            font-size: 2rem;
        }
        
        .start-screen p {
            margin-bottom: 30px;
            color: #7f8c8d;
            line-height: 1.6;
        }
        
        .start-button {
            background-color: #27ae60;
            padding: 12px 30px;
            font-size: 1.2rem;
        }
        
        .start-button:hover {
            background-color: #219653;
        }
        
        .player-name-input {
            margin-bottom: 20px;
        }
        
        
        /* קוד CSS לתמיכה במובייל */
        
        /* מקלדת וירטואלית לניידים */
        .virtual-keyboard {
            display: none; /* מוסתר כברירת מחדל, יופעל רק במכשירים ניידים */
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #f0f0f0;
            padding: 5px;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        
        .keyboard-row {
            display: flex;
            justify-content: center;
            margin-bottom: 5px;
        }
        
        .key {
            min-width: 8.8%;
            height: 44px;
            margin: 2px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.3rem;
            font-weight: normal;
            cursor: pointer;
            user-select: none;
        }
        
        .key:active {
            background-color: #e6e6e6;
        }
        
        .key-backspace {
            min-width: 13%;
        }
        
        /* שיפור בקרת הפוקוס למסכי מגע */
        .touch-focus {
            border-color: #3498db !important;
            background-color: #f0f8ff !important;
        }
        
        /* התאמות נוספות למסכים קטנים */
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            .info-bar {
                flex-wrap: wrap;
                gap: 5px;
            }
            
            .timer, .score, .level, .skip-counter {
                font-size: 1rem;
                margin-bottom: 5px;
            }
            
            .clue {
                font-size: 1.1rem;
            }
            
            .letter-info {
                font-size: 0.9rem;
            }
            
            .letter-box {
                width: 36px; /* קצת יותר קטן למסכים קטנים */
                height: 36px;
                font-size: 1.1rem;
                padding: 2px;
            }
            
            button {
                padding: 8px 12px;
                font-size: 0.9rem;
            }
            
            .virtual-keyboard {
                display: block; /* מפעיל את המקלדת הוירטואלית במסכים קטנים */
            }
            
            /* כאשר משתמשים במקלדת וירטואלית, נוסיף מרווח בתחתית כדי שיהיה מקום למקלדת */
            .mobile-view .game-container {
                margin-bottom: 200px;
            }
            
            /* מסתיר את השדה המוסתר כשיש מקלדת וירטואלית */
            .hidden-input {
                display: none;
            }
        }
        
        /* מניעת זום כשמקלידים בתיבת טקסט */
        input, textarea {
            font-size: 16px !important;  /* מונע זום אוטומטי באייפון */
        }
    </style>
</head>
<body>

    <!-- מסך פתיחה -->
    <div class="screen start-screen" id="startScreen">
        <h2>ברוכים הבאים למשחק ארץ עיר!</h2>
        <p>
            נסו לענות נכון על כמה שיותר חידות. לכל שלב יש 5 חידות.<br>
            יש לכם 60 שניות לכל המשחק, ובונוס של 30 שניות נוספות בין השלבים.<br>
            תתכוננו... וכתבו את השם שלכם להתחלה!
        </p>
        <div class="player-name-input">
            <input type="text" id="playerNameInput" placeholder="הכנס את שמך כאן" />
        </div>
        <button class="start-button" id="startButton">התחל משחק</button>
    </div>

    <!-- מסך המשחק העיקרי -->
    <div class="screen" id="gameScreen">
        <header>
            <h1>משחק ארץ עיר</h1>
        </header>

        <div class="game-container">
            <div class="info-bar">
                <div class="timer">זמן: <span id="timerDisplay">60</span> שניות</div>
                <div class="level">שלב: <span id="levelDisplay">1</span></div>
                <div class="score">ניקוד: <span id="scoreDisplay">0</span></div>
                <div class="skip-counter">דילוגים: <span id="skipCounter">1</span></div>
            </div>
            
            <div class="progress-bar">
                <div class="progress" id="levelProgress"></div>
            </div>

            <div id="levelUpMessage" class="level-up" style="display: none;">
                עלית לשלב הבא! +30 שניות
            </div>

            <div class="clue-container">
                <div class="clue" id="currentClue">טוען חידה...</div>
                <div class="letter-info" id="letterInfo"></div>
            </div>

            <div class="answer-container">
                <div class="letter-boxes" id="letterBoxes">
                    <!-- משבצות האותיות יתווספו כאן באופן דינמי -->
                </div>
                <input type="text" id="hiddenInput" class="hidden-input" />
                <button id="submitAnswer">בדוק תשובה</button>
                <button id="skipQuestion" class="skip-button">דלג</button>
            </div>

            <div id="feedback" class="feedback" style="display: none;"></div>
        </div>
    </div>

    <!-- טבלת שיאים -->
    <div class="leaderboard" id="leaderboard" style="display: none;">
        <h2>טבלת שיאים</h2>
        <table>
            <thead>
                <tr>
                    <th>דירוג</th>
                    <th>שם</th>
                    <th>ניקוד</th>
                    <th>שלב</th>
                </tr>
            </thead>
            <tbody id="leaderboardBody">
                <!-- שורות הטבלה יתווספו כאן דינמית -->
            </tbody>
        </table>
    </div>

    <!-- חלון סיום המשחק -->
    <div id="gameOverModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h2 class="game-over-message">המשחק הסתיים!</h2>
            <p class="final-score">הניקוד הסופי: <span id="finalScore">0</span></p>
            <p id="gameOverMessage">כל הכבוד! הגעת לשלב <span id="finalLevel">1</span>.</p>
            <button class="play-again" id="playAgainButton">שחק שוב</button>
        </div>
    </div>

    <!-- מקלדת וירטואלית למכשירים ניידים -->
    <div class="virtual-keyboard" id="virtualKeyboard" style="display: none;">
      <!-- הקוד JavaScript ייצר אוטומטית את מבנה המקלדת כאן -->
    </div>

    <script>
    // מאגר החידות המעודכן
    const clueBankByLevel = {
        1: [
    ["פרי באות ת'", ["תפוח", "תפוז", "תאנה"], "ת", 4],
    ["ארץ באות י'", ["ישראל"], "י", 5],
    ["ארץ באות י'", ["יפן", "יון"], "י", 3],
    ["חי באות א'", ["ארנב", "אריה", "אווז", "אוגר", "אתון", "אייל"], "א", 4],
    ["עיר בצרפת באות פ'", ["פריס", "פריז"], "פ", 4],
    ["חיה באות כ'", ["כלב"], "כ", 3],
    ["חי באות ח'", ["חתול", "חמור", "חזיר"], "ח", 4],
    ["מטבע באות ש'", ["שקל"], "ש", 3],
    ["חיה באות נ'", ["נמר", "נשר", "נחש"], "נ", 3],
    ["צבע באות א'", ["אדום", "אפור"], "א", 4],
    ["חיה באות ד'", ["דג", "דב"], "ד", 2],
    ["כלי כתיבה באות ע'", ["עט"], "ע", 2],
    ["חי באות צ'", ["צב"], "צ", 2],
    ["תבלין באות מ'", ["מלח"], "מ", 3],
    ["רהיט באות ש'", ["שולחן"], "ש", 5],
    ["רהיט באות כ'", ["כיסא"], "כ", 4],
    ["צורה באות מ'", ["משולש", "מרובע", "מחומש", "מתומן"], "מ", 5],
    ["שתייה באות ת'", ["תה"], "ת", 2],
    ["תכשיט באות ט'", ["טבעת"], "ט", 4],
    ["פעולת חשבון באות ח'", ["חיבור", "חיסור", "חילוק"], "ח", 5],
    ["חג יהודי באות פ'", ["פסח"], "פ", 3],
    ["בגוף האדם באות י'", ["יד"], "י", 2],
    ["כלי מטבח באות ס'", ["סיר", "ספל"], "ס", 3],
    ["ספרה באות א'", ["אחד", "אחת", "אפס"], "א", 3],
    ["ספרה באות א'", ["אחד", "אחת", "אפס"], "א", 3],
    ["ספרה באות ש'", ["שתיים", "שניים", "שלוש"], "ש", 4],
    ["ספרה באות ח'", ["חמש"], "ח", 3],
    ["ספרה באות ש'", ["שש"], "ש", 2],
    ["יום בשבוע באות ש'", ["שני", "שבת"], "ש", 3],
    ["יום בשבוע באות ר'", ["ראשון", "רביעי"], "ר", 5],
    ["יום בשבוע באות ח'", ["חמישי"], "ח", 5],
    ["מאכל באות פ'", ["פיצה", "פסטה", "פלפל", "פיתה"], "פ", 4],
    ["עונות השנה באות ק'", ["קיץ"], "ק", 3],
    ["עונות השנה באות א'", ["אביב"], "א", 4],
    ["עונות השנה באות ס'", ["סתיו"], "ס", 4],
    ["עונות השנה באות ח'", ["חורף"], "ח", 4],
    ["חודש עברי באות ת'", ["תשרי", "תמוז"], "ת", 4],
    ["מאכל ישראלי באות פ'", ["פלאפל"], "פ", 5],
    ["מאפים באות ל'", ["לחם"], "ל", 3],
    ["ספרה באות ש'", ["שתיים", "שניים", "שלוש"], "ש", 4]
],
2: [
    ["ספורט באות כ'", ["כדורגל", "כדורסל", "כדורעף", "כדוריד"], "כ", 6],
    ["מקצוע באות נ'", ["נגר", "נפח", "נהג"], "נ", 3],
    ["צבע באות צ'", ["צהוב"], "צ", 4],
    ["צבע באות ל'", ["לבן"], "ל", 3],
    ["צבע באות כ'", ["כחול", "כתום"], "כ", 4],
    ["טעם באות מ'", ["מר"], "מ", 2],
    ["טעם באות מ'", ["מתוק", "מלוח"], "מ", 4],
    ["פרי באות ת'", ["תות", "תמר"], "ת", 3],
    ["חי באות ס'", ["סוס"], "ס", 3],
    ["חי באות פ'", ["פיל", "פרה", "פרד"], "פ", 3],
    ["חי באות ת'", ["תן"], "ת", 2],
    ["פרי באות ב'", ["בננה"], "ב", 4],
    ["ארץ באות ס'", ["סין"], "ס", 3],
    ["פרי באות א'", ["אגס"], "א", 3],
    ["פרי באות מ'", ["מנגו", "מלון", "משמש"], "מ", 4],
    ["ירק באות ח'", ["חסה"], "ח", 3],
    ["תבלין באות ש'", ["שום"], "ש", 3],
    ["ארץ באות צ'", ["צרפת", "צכיה", "צילה"], "צ", 4],
    ["משקה אלכוהולי באות י'", ["יין"], "י", 3],
    ["רהיט באות א'", ["ארון"], "א", 4],
    ["רהיט באות מ'", ["מיטה", "מזרן"], "מ", 4],
    ["צורה באות מ'", ["מלבן"], "מ", 4],
    ["סוג בד באות צ'", ["צמר"], "צ", 3],
    ["מאכל ים תיכוני באות ח'", ["חומוס"], "ח", 5],
    ["קינוחים באות מ'", ["מוס"], "מ", 3],
    ["יחידת זמן באות ש'", ["שעה", "שנה"], "ש", 3],
    ["שתייה באות מ'", ["מים"], "מ", 3],
    ["שתייה באות ק'", ["קפה"], "ק", 3],
    ["תכשיט באות צ'", ["צמיד"], "צ", 4],
    ["כלי תחבורה באות ר'", ["רכבת", "רכבל"], "ר", 4],
    ["מאכל יפני באות ס'", ["סושי"], "ס", 4],
    ["כלי שיט באות ס'", ["סירה"], "ס", 4],
    ["בגד באות ח'", ["חולצה"], "ח", 5],
    ["בגד באות מ'", ["מעיל", "מכנס"], "מ", 4],
    ["פעולת חשבון באות כ'", ["כפל"], "כ", 3],
    ["חג יהודי באות פ'", ["פורים"], "פ", 5],
    ["חג יהודי באות ח'", ["חנוכה"], "ח", 5],
    ["חג יהודי באות ס'", ["סוכות"], "ס", 5],
    ["סוג מוזיקה באות ר'", ["רוק", "ראפ"], "ר", 3],
    ["בגוף האדם באות ל'", ["לב"], "ל", 2],
    ["כלי מטבח באות מ'", ["מזלג", "מצקת", "מקרר", "מחבת"], "מ", 4],
    ["כלי מטבח באות כ'", ["כף"], "כ", 2],
    ["רשת חברתית באות פ'", ["פייסבוק"], "פ", 7],
    ["ספרה באות א'", ["ארבע"], "א", 4],
    ["ספרה באות א'", ["ארבע"], "א", 4],
    ["ספרה באות ש'", ["שבע"], "ש", 3],
    ["ספרה באות ת'", ["תשע"], "ת", 3],
    ["יום בשבוע באות ש'", ["שלישי"], "ש", 5],
    ["יום בשבוע באות ש'", ["שישי"], "ש", 4],
    ["חודש עברי באות א'", ["אייר", "אלול"], "א", 4],
    ["חודש עברי באות א'", ["אב"], "א", 2],
    ["חודש לועזי באות י'", ["יוני", "יולי"], "י", 4],
    ["חודש לועזי באות מ'", ["מרץ", "מאי"], "מ", 3],
    ["סוגי קפה באות נ'", ["נס"], "נ", 2],
    ["כלי ניקיון באות מ'", ["מטאטא", "מברשת"], "מ", 5],
    ["מאפים באות ע'", ["עוגה"], "ע", 4],
    ["מאפים באות ב'", ["בורקס"], "ב", 5],
    ["מאפים באות ח'", ["חלה"], "ח", 3],
    ["סגנון ריקוד באות ב'", ["בלט"], "ב", 3],
    ["משחק קלפים באות ט'", ["טאקי"], "ט", 4],
    ["מקצועות בבית ספר באות ת'", ["תנך"], "ת", 3],
    ["מקצועות בבית ספר באות ח'", ["חשבון"], "ח", 5],
    ["כלי עבודה באות מ'", ["מברג", "מסור", "מסמר"], "מ", 4]
],
3: [
    ["עיר בישראל באות א'", ["אילת"], "א", 4],
    ["מטבע באות ד'", ["דולר", "דינר"], "ד", 4],
    ["צבע באות ס'", ["סגול"], "ס", 4],
    ["צבע באות ו'", ["ורוד"], "ו", 4],
    ["חיה באות ג'", ["גמל", "גוק"], "ג", 3],
    ["ארץ באות ב'", ["ברזיל", "בלגיה", "בוסניה", "בלרוס"], "ב", 5],
    ["מחלה באות ש'", ["שפעת", "שחפת"], "ש", 4],
    ["צבע באות י'", ["ירוק"], "י", 4],
    ["צבע באות ש'", ["שחור"], "ש", 4],
    ["מקצוע באות ר'", ["רופא", "רוקח", "רוכל", "רקדן"], "ר", 4],
    ["מקצוע באות ש'", ["שוטר", "שחקן", "שמאי", "שומר", "שופט", "שליח", "שדכן"], "ש", 4],
    ["מקצוע באות ס'", ["ספר", "סבל", "ספן"], "ס", 3],
    ["מקצוע באות ב'", ["בנאי", "בורר", "במאי", "בדרן", "ברמן"], "ב", 4],
    ["ירק באות מ'", ["מלפפון"], "מ", 6],
    ["חי באות ש'", ["שפן", "שור", "שחף"], "ש", 3],
    ["עיר באנגליה באות ל'", ["לונדון"], "ל", 6],
    ["עיר באיטליה באות ר'", ["רומא"], "ר", 4],
    ["ארץ באות ס'", ["ספרד", "סנגל", "סודן"], "ס", 4],
    ["ארץ באות ר'", ["רוסיה"], "ר", 5],
    ["ארץ באות ק'", ["קטאר", "קניה", "קנדה", "קובה"], "ק", 4],
    ["פרי באות א'", ["אפרסק", "אבטיח", "אנונה"], "א", 5],
    ["ירק באות ע'", ["עגבנייה"], "ע", 7],
    ["תבלין באות פ'", ["פלפל"], "פ", 4],
    ["עיר בישראל באות ח'", ["חיפה", "חדרה"], "ח", 4],
    ["משקה אלכוהולי באות ב'", ["בירה"], "ב", 4],
    ["מאכל מקסיקני באות ט'", ["טאקו"], "ט", 4],
    ["סוג בד באות מ'", ["משי"], "מ", 3],
    ["סוג בד באות כ'", ["כותנה"], "כ", 5],
    ["צורה באות ע'", ["עיגול"], "ע", 5],
    ["מצב צבירה באות ג'", ["גז"], "ג", 2],
    ["מצב צבירה באות נ'", ["נוזל"], "נ", 4],
    ["כלי נגינה באות ג'", ["גיטרה"], "ג", 5],
    ["תכשיט באות ש'", ["שרשרת"], "ש", 5],
    ["יחידת מרחק באות מ'", ["מטר"], "מ", 3],
    ["יחידת זמן באות ד'", ["דקה"], "ד", 3],
    ["בגד באות מ'", ["מכנסיים"], "מ", 7],
    ["בגד באות ג'", ["גרב"], "ג", 3],
    ["עץ באות א'", ["אלון", "אורן"], "א", 4],
    ["חג יהודי באות ש'", ["שבועות"], "ש", 6],
    ["בגוף האדם באות ר'", ["רגל"], "ר", 3],
    ["בגוף האדם באות מ'", ["מח"], "מ", 2],
    ["תכשיט באות ע'", ["עגיל"], "ע", 4],
    ["רגש באות ש'", ["שמחה"], "ש", 4],
    ["ספרה באות ש'", ["שמונה"], "ש", 5],
    ["ממתקים באות ש'", ["שוקולד"], "ש", 6],
    ["ממתקים באות ט'", ["טופי"], "ט", 4],
    ["משקה באות ש'", ["שוקו"], "ש", 4],
    ["קשת מהמזלות", ["קשת"], "ק", 3],
    ["חודש עברי באות ח'", ["חשון"], "ח", 4],
    ["חודש עברי באות ט'", ["טבת"], "ט", 3],
    ["חודש עברי באות א'", ["אדר"], "א", 3],
    ["חודש עברי באות כ'", ["כסלו"], "כ", 4],
    ["חודש לועזי באות ד'", ["דצמבר"], "ד", 5],
    ["חודש לועזי באות י'", ["ינואר"], "י", 5],
    ["חודש לועזי באות א'", ["אפריל"], "א", 5],
    ["חודש לועזי באות נ'", ["נובמבר"], "נ", 6],
    ["כלי ניקיון באות מ'", ["מגב"], "מ", 3],
    ["מאפים באות ל'", ["לחמנייה"], "ל", 7],
    ["משחק קופסא באות ש'", ["שחמט", "ששבש"], "ש", 4],
    ["סגנון ריקוד באות ס'", ["סלסה", "סמבה"], "ס", 4],
    ["מקצועות בבית ספר באות א'", ["אנגלית", "אזרחות", "אמנות"], "א", 6],
    ["מקצועות בבית ספר באות מ'", ["מדעים"], "מ", 5],
    ["הר בישראל באות ח'", ["חרמון"], "ח", 5],
    ["צבע באות ת'", ["תכלת"], "ת", 4],
    ["צבע באות ב'", ["בז"], "ב", 2],
    ["רגש באות פ'", ["פחד"], "פ", 3]
],
4: [
    ["יבשת באות א'", ["אסיה"], "א", 4],
    ["כלי תחבורה באות א'", ["אופניים", "אופנוע", "אוטובוס"], "א", 7],
    ["מדינה באות מ'", ["מצרים", "מרוקו"], "מ", 5],
    ["עיר בישראל באות נ'", ["נתניה", "נהריה"], "נ", 5],
    ["צומח באות נ'", ["נרקיס", "נורית"], "נ", 5],
    ["ארץ באות ת'", ["תימן"], "ת", 4],
    ["מקצוע באות פ'", ["פסל", "פקח", "פחח"], "פ", 3],
    ["צומח באות ח'", ["חצב", "חסה", "חוח"], "ח", 3],
    ["צומח באות כ'", ["כלנית", "כרישה", "כרכום"], "כ", 5],
    ["חי באות ז'", ["זאב", "זחל"], "ז", 3],
    ["חי באות פ'", ["פרפר", "פומה", "פנתר"], "פ", 4],
    ["חי באות צ'", ["צבי"], "צ", 3],
    ["חי באות ק'", ["קוף", "קנר"], "ק", 3],
    ["עיר בישראל באות י'", ["יפו"], "י", 3],
    ["עיר בגרמניה באות ב'", ["ברלין", "בוכום"], "ב", 5],
    ["עיר בישראל באות ל'", ["לוד"], "ל", 3],
    ["עיר בספרד באות מ'", ["מדריד"], "מ", 5],
    ["עיר ברוסיה באות מ'", ["מוסקבה"], "מ", 6],
    ["ארץ באות ג'", ["גרמניה"], "ג", 6],
    ["ארץ באות צ'", ["צרפת", "צכיה", "צילה"], "צ", 4],
    ["ארץ באות ש'", ["שבדיה", "שוויץ"], "ש", 5],
    ["מטבע באות ל'", ["לירה"], "ל", 4],
    ["ירק באות ס'", ["סלק"], "ס", 3],
    ["ירק באות כ'", ["כרוב"], "כ", 4],
    ["ירק באות ת'", ["תרד"], "ת", 3],
    ["פרי באות ש'", ["שזיף"], "ש", 4],
    ["קינוחים באות מ'", ["מלבי"], "מ", 4],
    ["קינוחים באות ס'", ["סופלה"], "ס", 5],
    ["כלי תחבורה באות מ'", ["מטוס"], "מ", 4],
    ["משקה אלכוהולי באות ו'", ["וויסקי", "וודקה"], "ו", 5],
    ["משקה אלכוהולי באות ש'", ["שמפניה"], "ש", 6],
    ["מאכל איטלקי באות ר'", ["רביולי", "ריזוטו"], "ר", 6],
    ["מאכל איטלקי באות ל'", ["לזניה"], "ל", 5],
    ["רהיט באות ס'", ["ספה"], "ס", 3],
    ["שתייה באות ס'", ["סודה"], "ס", 4],
    ["מצב צבירה באות מ'", ["מוצק"], "מ", 4],
    ["כלי נגינה באות פ'", ["פסנתר"], "פ", 5],
    ["כלי תחבורה באות מ'", ["מטוס", "מסוק", "מטרו"], "מ", 4],
    ["יחידת מרחק באות ס'", ["סנטימטר"], "ס", 7],
    ["יחידת משקל באות ג'", ["גרם"], "ג", 3],
    ["כלי שיט באות ס'", ["ספינה"], "ס", 5],
    ["כלי נגינה באות ת'", ["תופים"], "ת", 5],
    ["כלי נגינה באות ח'", ["חליל"], "ח", 4],
    ["פריט לבוש באות ח'", ["חגורה", "חצאית", "חליפה", "חולצה"], "ח", 5],
    ["בגוף האדם באות א'", ["אוזן"], "א", 4],
    ["רגש באות ע'", ["עצב"], "ע", 3],
    ["רשת חברתית באות ט'", ["טלגרם"], "ט", 5],
    ["אמצעי תקשורת באות ט'", ["טלוויזיה"], "ט", 8],
    ["ממתקים באות ס'", ["סוכריה"], "ס", 6],
    ["כלי גינון באות מ'", ["מעדר"], "מ", 4],
    ["כלי רכב באות ג'", ["גיפ"], "ג", 3],
    ["מהמזלות באות ד'", ["דלי"], "ד", 3],
    ["חודש לועזי באות פ'", ["פברואר"], "פ", 6],
    ["חודש עברי באות ש'", ["שבט"], "ש", 3],
    ["גיבור על באות ב'", ["בטמן"], "ב", 4],
    ["תרופה באות א'", ["אקמול", "אדויל"], "א", 5],
    ["תבלין באות ה'", ["הל"], "ה", 2],
    ["תבלין באות ק'", ["קינמון"], "ק", 6],
    ["כלי ניקיון באות ס'", ["סמרטוט"], "ס", 6],
    ["משחק קופסא באות ד'", ["דמקה"], "ד", 4],
    ["מאפים באות ק'", ["קיש"], "ק", 3],
    ["מקצועות בבית ספר באות ה'", ["היסטוריה"], "ה", 8],
    ["הר בישראל באות ג'", ["גלבוע"], "ג", 5],
    ["הר בישראל באות ת'", ["תבור"], "ת", 4],
    ["פרטי אספנות באות ב'", ["בולים"], "ב", 5]
],
5: [
    ["כוכב לכת באות צ'", ["צדק"], "צ", 3],
    ["משחק ילדים באות מ'", ["מחבואים"], "מ", 7],
    ["חי באות ב'", ["ברבור", "ברווז"], "ב", 5],
    ["עיר בישראל באות ה'", ["הרצליה"], "ה", 6],
    ["כלי תחבורה באות מ'", ["מכונית"], "מ", 6],
    ["מקצוע באות א'", ["אופה", "אחות"], "א", 4],
    ["צבע באות ב'", ["בורדו"], "ב", 5],
    ["צבע באות ח'", ["חום"], "ח", 3],
    ["מקצוע באות ש'", ["שף"], "ש", 2],
    ["מקצוע באות ס'", ["סופר", "ספרן", "סוחר", "סוהר", "סדרן"], "ס", 4],
    ["מקצוע באות ג'", ["גנן", "גשש"], "ג", 3],
    ["דומם באות י'", ["ילקוט", "יהלום", "יאכטה"], "י", 5],
    ["צומח באות ג'", ["גזר", "גפן"], "ג", 3],
    ["צומח באות ו'", ["ורד"], "ו", 3],
    ["חי באות ז'", ["זברה", "זבוב", "זמיר"], "ז", 4],
    ["חי באות י'", ["יען", "יעל"], "י", 3],
    ["חי באות ע'", ["עכבר", "עטלף", "עקרב", "עופר", "עייט"], "ע", 4],
    ["חי באות ת'", ["תנין", "תיקן", "תוכי"], "ת", 4],
    ["עיר בספרד באות ב'", ["ברצלונה"], "ב", 7],
    ["עיר בישראל באות ח'", ["חולון"], "ח", 5],
    ["עיר בישראל באות ט'", ["טבריה"], "ט", 5],
    ["עיר ביפן באות ט'", ["טוקיו"], "ט", 5],
    ["עיר בפורטוגל באות ל'", ["ליסבון"], "ל", 6],
    ["עיר בישראל באות צ'", ["צפת"], "צ", 3],
    ["עיר בישראל באות ר'", ["רמלה", "רעות", "רפיח"], "ר", 4],
    ["עיר בישראל באות ר'", ["רעננה"], "ר", 5],
    ["ארץ באות ל'", ["לוב"], "ל", 3],
    ["ארץ באות ה'", ["הולנד", "הוואי", "האיטי"], "ה", 5],
    ["ארץ באות ס'", ["סלובקיה", "סקוטלנד", "סלובניה", "סינגפור"], "ס", 7],
    ["ארץ באות ע'", ["עיראק"], "ע", 5],
    ["ארץ באות פ'", ["פרו", "פרס"], "פ", 3],
    ["ארץ באות פ'", ["פולין"], "פ", 5],
    ["ארץ באות ר'", ["רומניה"], "ר", 6],
    ["ירק באות צ'", ["צנון"], "צ", 4],
    ["רהיט באות מ'", ["מנורה"], "מ", 5],
    ["ענף ספורט באות ט'", ["טניס"], "ט", 4],
    ["יחידת מרחק באות ק'", ["קילומטר"], "ק", 7],
    ["כלי שיט באות צ'", ["צוללת"], "צ", 5],
    ["כלי נגינה באות נ'", ["נבל"], "נ", 3],
    ["כלי נגינה באות צ'", ["צלו"], "צ", 3],
    ["כוכב לכת באות מ'", ["מאדים"], "מ", 5],
    ["סוג מוזיקה באות ג'", ["גאז"], "ג", 3],
    ["סוג מוזיקה באות פ'", ["פופ"], "פ", 3],
    ["בגוף האדם באות כ'", ["כבד"], "כ", 3],
    ["בגוף האדם באות מ'", ["מעי", "מוח"], "מ", 3],
    ["כלי מטבח באות כ'", ["כוס"], "כ", 3],
    ["מאכל תימני באות ג'", ["גחנון"], "ג", 5],
    ["אמצעי תקשורת באות ע'", ["עיתון"], "ע", 5],
    ["כלי גינון באות מ'", ["מגרפה", "מזמרה"], "מ", 5],
    ["מאכל מקסיקני באות ב'", ["בוריטו"], "ב", 6],
    ["מהמיתולגיה היוונית באות ז'", ["זאוס"], "ז", 4],
    ["גיבור על באות ס'", ["סופרמן"], "ס", 6],
    ["חודש לועזי באות א'", ["אוגוסט"], "א", 6],
    ["סוגי קפה באות ש'", ["שחור"], "ש", 4],
    ["מאפים באות פ'", ["פחזנית", "פשטידה"], "פ", 6],
    ["משחק קלפים באות ס'", ["סוליטר"], "ס", 6],
    ["משחק קלפים באות פ'", ["פוקר"], "פ", 4],
    ["משחק ילדים באות ת'", ["תופסת"], "ת", 5],
    ["תחום לימוד באונברסיטה באות ר'", ["רפואה"], "ר", 5],
    ["הר בישראל באות מ'", ["מירון"], "מ", 5],
    ["הר בישראל באות כ'", ["כרמל"], "כ", 4],
    ["סגנון ריקוד באות ט'", ["טנגו"], "ט", 4],
    ["אמצעי תקשורת באות ר'", ["רדיו"], "ר", 4]
],
6: [
    ["בעל חיים באות ד'", ["דולפין", "דיונון"], "ד", 6],
    ["עיר בישראל באות י'", ["ירושלים"], "י", 7],
    ["מקצוע באות מ'", ["מורה", "מאלף", "מנצח", "מלצר", "מנהל", "מחנך"], "מ", 4],
    ["כלי עבודה באות מ'", ["מקדחה"], "מ", 5],
    ["חי באות ל'", ["למה"], "ל", 3],
    ["מקצוע באות ז'", ["זמר", "זבן", "זגג"], "ז", 3],
    ["כלי תחבורה באות מ'", ["משאית"], "מ", 5],
    ["משחק ילדים באות ק'", ["קלאס"], "ק", 4],
    ["ארץ באות ד'", ["דנמרק"], "ד", 5],
    ["מקצוע באות ח'", ["חדרן", "חובש", "חייט"], "ח", 4],
    ["מקצוע באות ו'", ["וטרינר"], "ו", 6],
    ["צומח באות ב'", ["ברוש", "במיה", "בוטן"], "ב", 4],
    ["חי באות ב'", ["בואש", "בבון", "במבי", "ברחש"], "ב", 4],
    ["חי באות ט'", ["טלה", "טוס"], "ט", 3],
    ["פרי באות א'", ["אננס"], "א", 4],
    ["חי באות צ'", ["צרצר", "ציטה", "צבוע"], "צ", 4],
    ["חי באות ש'", ["שועל", "שרקן", "שלדג"], "ש", 4],
    ["חי באות ת'", ["תרנגול"], "ת", 6],
    ["עיר בישראל באות ד'", ["דימונה"], "ד", 6],
    ["עיר בישראל באות ג'", ["גדרה"], "ג", 4],
    ["עיר באיטליה באות ו'", ["ונציה"], "ו", 5],
    ["עיר בישראל באות כ'", ["כרמיאל", "כפרסבא"], "כ", 6],
    ["עיר בישראל באות ע'", ["ערד"], "ע", 3],
    ["עיר בצכיה באות פ'", ["פראג"], "פ", 4],
    ["עיר באוקראינה באות ק'", ["קייב"], "ק", 4],
    ["עיר בישראל באות ר'", ["רחובות"], "ר", 6],
    ["ארץ באות ה'", ["הודו"], "ה", 4],
    ["ארץ באות ה'", ["הונגריה", "הונדורס"], "ה", 7],
    ["ארץ באות ל'", ["ליטא", "לאוס"], "ל", 4],
    ["ארץ באות ל'", ["לבנון", "לטביה"], "ל", 5],
    ["ארץ באות פ'", ["פנמה"], "פ", 4],
    ["ארץ באות ת'", ["תאילנד", "תורכיה"], "ת", 6],
    ["מטבע באות ר'", ["רופי", "ריאל", "רובל"], "ר", 4],
    ["פרי באות ק'", ["קיווי"], "ק", 5],
    ["אבן חן באות י'", ["יהלום"], "י", 5],
    ["משקה אלכוהולי באות ר'", ["רום"], "ר", 3],
    ["כלי נגינה באות מ'", ["מפוחית"], "מ", 6],
    ["ענף ספורט באות ס'", ["סנוקר"], "ס", 5],
    ["תופעת טבע באות ס'", ["סופה"], "ס", 4],
    ["פריט לבוש באות צ'", ["צעיף"], "צ", 4],
    ["כוכב לכת באות נ'", ["נוגה"], "נ", 4],
    ["סוג מוזיקה באות ק'", ["קלאסית", "קאנטרי"], "ק", 6],
    ["בגוף האדם באות כ'", ["כליה"], "כ", 4],
    ["מהמטבח ההודי באות ק'", ["קארי"], "ק", 4],
    ["מטבעות באות י'", ["ין"], "י", 2],
    ["סוגי קפה באות א'", ["אספרסו"], "א", 6],
    ["סוגי קפה באות ק'", ["קפוצינו"], "ק", 7],
    ["מהמזלות באות ב'", ["בתולה"], "ב", 5],
    ["גיבור על באות ס'", ["ספיידרמן"], "ס", 8],
    ["סוגי לחם באות כ'", ["כוסמין"], "כ", 6],
    ["משחק קופסא באות ד'", ["דומינו"], "ד", 6],
    ["משחק קופסא באות ק'", ["קטאן"], "ק", 4],
    ["סוגי לחם באות פ'", ["פוקצה"], "פ", 5],
    ["מאפים באות ר'", ["רוגלך"], "ר", 5],
    ["סגנון ריקוד באות ו'", ["ואלס"], "ו", 4],
    ["תחום לימוד באונברסיטה באות כ'", ["כלכלה"], "כ", 5],
    ["תחום לימוד באונברסיטה באות מ'", ["משפטים"], "מ", 6],
    ["מאכל יווני באות צ'", ["צזיקי"], "צ", 5],
    ["מאכל גרוזיני באות ח'", ["חצפורי"], "ח", 6]
],
7: [
    ["כלי עבודה באות פ'", ["פטיש"], "פ", 4],
    ["עיר באוסטריה באות ז'", ["זלצבורג"], "ז", 7],
    ["כלי תחבורה באות ק'", ["קורקינט"], "ק", 7],
    ["משחק קופסא באות מ'", ["מונופול"], "מ", 7],
    ["מקצוע באות ת'", ["תופר", "תפרן"], "ת", 4],
    ["מקצוע באות ר'", ["רצף", "רתך"], "ר", 3],
    ["מקצוע באות צ'", ["צלם"], "צ", 3],
    ["מקצוע באות ט'", ["טבח"], "ט", 3],
    ["צומח באות ה'", ["הדס"], "ה", 3],
    ["צומח באות ח'", ["חיטה", "חציל", "חבוש", "חרוב"], "ח", 4],
    ["חי באות ק'", ["קביה", "קרנף", "קרפד"], "ק", 4],
    ["חי באות ק'", ["קיפוד", "קרציה", "קרפדה", "קנגרו"], "ק", 5],
    ["עיר בנורבגיה באות א'", ["אוסלו"], "א", 5],
    ["עיר בישראל באות י'", ["ירוחם"], "י", 5],
    ["עיר בגרמניה באות מ'", ["מינכן"], "מ", 5],
    ["עיר בישראל באות ג'", ["גבעתיים"], "ג", 7],
    ["עיר בארה\"ב באות מ'", ["מיאמי"], "מ", 5],
    ["עיר באוסטרליה באות ס'", ["סידני"], "ס", 5],
    ["עיר בישראל באות ע'", ["עפולה"], "ע", 5],
    ["עיר בלטביה באות ר'", ["ריגה"], "ר", 4],
    ["עיר בישראל באות ש'", ["שדרות", "שפרעם"], "ש", 5],
    ["ארץ באות ז'", ["זמביה"], "ז", 5],
    ["ארץ באות פ'", ["פינלנד", "פקיסטן"], "פ", 6],
    ["ארץ באות פ'", ["פורטוגל", "פרגוואי"], "פ", 7],
    ["מטבע באות פ'", ["פסו"], "פ", 3],
    ["סוגי לחם באות ש'", ["שיפון"], "ש", 5],
    ["סוגי לחם באות כ'", ["כפרי"], "כ", 4],
    ["פרי באות ש'", ["שסק"], "ש", 3],
    ["פרי באות ל'", ["ליצי"], "ל", 4],
    ["פרי באות נ'", ["נקטרינה"], "נ", 7],
    ["פרי באות ק'", ["קלמנטינה"], "ק", 8],
    ["תבלין באות פ'", ["פפריקה"], "פ", 6],
    ["משקה אלכוהולי באות ט'", ["טקילה"], "ט", 5],
    ["מאכל אתיופי באות א'", ["אינגירה"], "א", 7],
    ["צורה באות ט'", ["טרפז"], "ט", 4],
    ["צורה באות ג'", ["גליל"], "ג", 4],
    ["ענף ספורט באות ג'", ["גולף"], "ג", 4],
    ["כלי שיט באות י'", ["יאכטה"], "י", 5],
    ["פריט לבוש באות כ'", ["כובע"], "כ", 4],
    ["כלי נגינה באות כ'", ["כינור"], "כ", 5],
    ["כוכב לכת באות ש'", ["שבתאי"], "ש", 5],
    ["סוג מוזיקה באות ה'", ["האוס"], "ה", 4],
    ["בגוף האדם באות ו'", ["ושט"], "ו", 3],
    ["פרח באות ח'", ["חמנייה"], "ח", 6],
    ["פרטי אספנות באות מ'", ["מטבעות"], "מ", 6],
    ["משקה אלכוהולי באות ע'", ["ערק"], "ע", 3],
    ["מכשיר חשמלי באות ק'", ["קומקום"], "ק", 6],
    ["מאכל איטלקי באות ק'", ["קנלוני"], "ק", 6],
    ["מהמיתולגיה היוונית באות ה'", ["הרקולס"], "ה", 6],
    ["מהמזלות באות מ'", ["מאזניים"], "מ", 7],
    ["מהמזלות באות ת'", ["תאומיים"], "ת", 7],
    ["מאפים באות ש'", ["שטרודל"], "ש", 6],
    ["משחק קלפים באות ב'", ["ברידג"], "ב", 5],
    ["תחום לימוד באונברסיטה באות ב'", ["ביולוגיה"], "ב", 8],
    ["רשת חברתית באות א'", ["אינסטגרם"], "א", 8]
],
8: [
    ["צבע באות ט'", ["טורקיז"], "ט", 6],
    ["חיה באות ט'", ["טיגריס"], "ט", 6],
    ["צומח באות נ'", ["ניצן", "נופר", "נענע"], "נ", 4],
    ["מטבע באות ס'", ["סנט"], "ס", 3],
    ["חי באות ח'", ["חיפושית"], "ח", 7],
    ["מקצוע באות ש'", ["שרברב", "שמרטף", "שגריר"], "ש", 5],
    ["מקצוע באות ל'", ["ליצן"], "ל", 4],
    ["מקצוע באות ד'", ["דוור", "דייל", "דייג"], "ד", 4],
    ["חי באות ו'", ["וומבט", "וירוס"], "ו", 5],
    ["חי באות ע'", ["עכביש"], "ע", 5],
    ["חי באות ת'", ["תיש"], "ת", 3],
    ["עיר בארה\"ב באות ב'", ["בוסטון"], "ב", 6],
    ["עיר בארה\"ב באות ד'", ["דאלאס"], "ד", 5],
    ["עיר בפינלנד באות ה'", ["הלסינקי"], "ה", 7],
    ["עיר בקנדה באות ט'", ["טורונטו"], "ט", 7],
    ["עיר באנגליה באות מ'", ["מנצסטר"], "מ", 6],
    ["ארץ באות ז'", ["זמביה"], "ז", 5],
    ["ארץ באות נ'", ["ניגריה", "נימיביה"], "נ", 6],
    ["מטבע באות ב'", ["באט"], "ב", 3],
    ["תבלין באות כ'", ["כורכום"], "כ", 6],
    ["אבן חן באות ס'", ["ספיר"], "ס", 4],
    ["אבן חן באות ט'", ["טופז"], "ט", 4],
    ["סוג בד באות פ'", ["פשתן"], "פ", 4],
    ["משקה אלכוהולי באות ק'", ["קוניאק"], "ק", 6],
    ["צורה באות א'", ["אליפסה"], "א", 6],
    ["תבלין באות כ'", ["כמון"], "כ", 4],
    ["יחידת זמן באות ש'", ["שנייה"], "ש", 5],
    ["כלי נגינה באות ח'", ["חצוצרה"], "ח", 6],
    ["כלי נגינה באות ע'", ["עוגב"], "ע", 4],
    ["לבוש יפני באות ק'", ["קימונו"], "ק", 6],
    ["תופעת טבע באות צ'", ["צונאמי"], "צ", 6],
    ["סוג מוזיקה באות א'", ["אלקטרוני"], "א", 8],
    ["סוג מוזיקה באות ט'", ["טכנו"], "ט", 4],
    ["בגוף האדם באות ט'", ["טחול"], "ט", 4],
    ["משקה אלכוהולי באות א'", ["אוזו"], "א", 4],
    ["חג נוצרי באות ה'", ["האלווין"], "ה", 7],
    ["סוגי קפה באות מ'", ["מקיאטו"], "מ", 6],
    ["פילוסוף ידוע באות א'", ["אפלטון"], "א", 6],
    ["מאכל יפני באות ר'", ["ראמן"], "ר", 4],
    ["מאכל יפני באות מ'", ["מיסו"], "מ", 4],
    ["משחק קופסא באות ר'", ["רמיקוב"], "ר", 6],
    ["מאכל יווני באות ג'", ["גירוס"], "ג", 5],
    ["כלי עבודה באות פ'", ["פלייר"], "פ", 5]
    ],
9: [
    ["חיה באות מ'", ["מדוזה", "ממותה"], "מ", 5],
    ["חי באות ל'", ["ליוויתן", "לווייתן"], "ל", 7],
    ["מקצוע באות פ'", ["פסיכולוג", "פרסומאי", "פסיכיאטר"], "פ", 8],
    ["מקצוע באות י'", ["יערן", "ירקן", "יועץ", "ימאי"], "י", 4],
    ["צומח באות ד'", ["דלעת", "דפנה", "דוחן"], "ד", 4],
    ["צומח באות י'", ["יסמין", "ירבוז", "ינבוט", "יבלית"], "י", 5],
    ["צומח באות ל'", ["לילך", "לוטם", "לענה", "לולב", "ליים", "לופה", "ליצי", "לבנה"], "ל", 4],
    ["חי באות ה'", ["היפופוטם"], "ה", 8],
    ["חי באות ז'", ["זרזיר", "זיקית"], "ז", 5],
    ["ציפור באות נ'", ["נחליאלי"], "נ", 7],
    ["חי באות ש'", ["שימפנזה", "שפרירית"], "ש", 7],
    ["עיר בארה\"ב באות א'", ["אורלנדו"], "א", 7],
    ["עיר בגרמניה באות ה'", ["המבורג"], "ה", 6],
    ["עיר בצרפת באות ל'", ["ליון"], "ל", 4],
    ["עיר בספרד באות ס'", ["סיביליה"], "ס", 7],
    ["ארץ באות ח'", ["חבש"], "ח", 3],
    ["תבלין באות ט'", ["טימין"], "ט", 5],
    ["סוג בד באות ק'", ["קטיפה"], "ק", 5],
    ["ענף ספורט באות ב'", ["באולינג"], "ב", 7],
    ["צורה באות ח'", ["חרוט"], "ח", 4],
    ["כלי נגינה באות א'", ["אבוב"], "א", 4],
    ["כלי נגינה באות ד'", ["דרבוקה"], "ד", 6],
    ["ממתקים באות ל'", ["לקריץ"], "ל", 5],
    ["פילוסוף ידוע באות ס'", ["סוקרטס"], "ס", 6],
    ["סגנון אומנות באות ק'", ["קוביזם"], "ק", 6],
    ["סגנון ריקוד באות ס'", ["סווינג"], "ס", 6],
    ["צבע באות ח'", ["חאקי"], "ח", 4],
    ["רשת חברתית באות ס'", ["סנאפצאט"], "ס", 7]
    ],
10: [
    ["ארץ באות ז'", ["זימבבואה"], "ז", 8],
    ["תבלין באות ז'", ["זעפרן"], "ז", 5],
    ["צומח באות ס'", ["סתונית", "סיגלית"], "ס", 6],
    ["צומח באות ע'", ["ערבה", "עולש", "ערער"], "ע", 4],
    ["עיר באיטליה באות ב'", ["בולוניה"], "ב", 7],
    ["עיר בגרמניה באות ד'", ["דורטמונד"], "ד", 8],
    ["מטבע באות ב'", ["ביטקוין"], "ב", 7],
    ["פרי באות א'", ["אוכמניות"], "א", 8],
    ["משקה אלכוהולי באות ב'", ["ברנדי"], "ב", 5],
    ["משקה אלכוהולי באות ל'", ["ליקר"], "ל", 4],
    ["סוג בד באות פ'", ["פוליאסטר"], "פ", 8],
    ["ענף ספורט באות ק'", ["קריקט"], "ק", 5],
    ["צורה באות פ'", ["פירמידה"], "פ", 7],
    ["כלי נגינה באות מ'", ["מנדולינה"], "מ", 8],
    ["כלי שיט באות ר'", ["רפסודה"], "ר", 6],
    ["כלי שיט באות ג'", ["גונדולה"], "ג", 7],
    ["כלי נגינה באות ו'", ["ויולה"], "ו", 5],
    ["כלי נגינה באות מ'", ["מצלתיים"], "מ", 7],
    ["מאכל הודי באות ד'", ["דאל"], "ד", 3],
    ["מאכל הודי באות צ'", ["צפאטי"], "צ", 5],
    ["סוגי לחם באות ב'", ["בריוש"], "ב", 5],
    ["כלי נגינה באות ס'", ["סיטאר"], "ס", 5],
    ["גיבורי על באות ו'", ["וולברין"], "ו", 7],
    ["גיבור על באות ד'", ["דדפול"], "ד", 5],
    ["פילוסוף ידוע באות נ'", ["ניטשה"], "נ", 5],
    ["סגנון אומנות באות ס'", ["סוריאליזם"], "ס", 9],
    ["תחום לימוד באונברסיטה באות ס'", ["סוציולוגיה"], "ס", 10],
    ["צבע באות א'", ["אינדיגו"], "א", 7],
    ["מאכל עיראקי באות ט'", ["טבית"], "ט", 4]
]
};

    // מצב המשחק המעודכן
    let gameState = {
    level: 1,
    score: 0,
    timeLeft: 60,
    currentQuestionIndex: 0,
    correctAnswersInLevel: 0,
    timer: null,
    playerName: "",
    isGameActive: false,
    askedQuestions: [],     // מערך חדש לשמירת השאלות שנשאלו
    currentQuestion: null,  // מידע על השאלה הנוכחית
    skipsAvailable: 1,      // מספר דילוגים זמינים
    questionsToPassLevel: 5, // כמה שאלות נדרשות כדי לעבור שלב
    isTransitioning: false  // דגל חדש למניעת הגשות חוזרות בזמן מעבר בין שאלות
};
    // פונקציות המשחק
    function saveLeaderboard(leaderboardData) {
        localStorage.setItem('aretzCityLeaderboard', JSON.stringify(leaderboardData));
    }

    function getLeaderboard() {
        const leaderboard = localStorage.getItem('aretzCityLeaderboard');
        return leaderboard ? JSON.parse(leaderboard) : [];
    }

    function updateLeaderboard(playerName, score, level) {
        const leaderboardData = getLeaderboard();
        leaderboardData.push({ playerName, score, level });
        leaderboardData.sort((a, b) => b.score - a.score);
        const topTen = leaderboardData.slice(0, 10);
        saveLeaderboard(topTen);
        displayLeaderboard();
    }

    function displayLeaderboard() {
        const leaderboardData = getLeaderboard();
        leaderboardBody.innerHTML = '';
        
        leaderboardData.forEach((entry, index) => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${index + 1}</td>
                <td>${entry.playerName}</td>
                <td>${entry.score}</td>
                <td>${entry.level}</td>
            `;
            leaderboardBody.appendChild(row);
        });
        
        leaderboard.style.display = 'block';
    }

    function initGame() {
        gameState.level = 1;
        gameState.score = 0;
        gameState.timeLeft = 60;
        gameState.currentQuestionIndex = 0;
        gameState.correctAnswersInLevel = 0;
        gameState.isGameActive = true;
        gameState.askedQuestions = []; // איפוס מערך השאלות שנשאלו
        gameState.skipsAvailable = 1;  // התחלה עם דילוג אחד
        gameState.questionsToPassLevel = 5;  // מספר השאלות לפתרון בכל שלב
        
        updateDisplay();
        updateSkipButton();
        startTimer();
        loadRandomQuestion();
        
        startScreen.style.display = 'none';
        gameScreen.style.display = 'block';
        leaderboard.style.display = 'none';
    }
    
    function updateSkipButton() {
        const skipButton = document.getElementById('skipQuestion');
        const skipCounter = document.getElementById('skipCounter');
        
        skipCounter.textContent = gameState.skipsAvailable;
        
        if (gameState.skipsAvailable > 0) {
            skipButton.disabled = false;
        } else {
            skipButton.disabled = true;
        }
    }

    function updateDisplay() {
        timerDisplay.textContent = gameState.timeLeft;
        levelDisplay.textContent = gameState.level;
        scoreDisplay.textContent = gameState.score;
        
        // חישוב רוחב פס ההתקדמות על פי מספר השאלות הנדרשות
        const progressPercentage = (gameState.correctAnswersInLevel / gameState.questionsToPassLevel) * 100;
        levelProgress.style.width = `${progressPercentage}%`;
    }

    function startTimer() {
        clearInterval(gameState.timer);
        gameState.timer = setInterval(() => {
            gameState.timeLeft--;
            timerDisplay.textContent = gameState.timeLeft;
            
            if (gameState.timeLeft <= 0) {
                endGame();
            }
        }, 1000);
    }

    // פונקציה משופרת לבחירת שאלה רנדומלית
    function loadRandomQuestion() {
        // אם המשחק לא פעיל, לא נטען שאלה חדשה
        if (!gameState.isGameActive) return;

        gameState.isTransitioning = false;
        // ננסה למצוא שאלה שעדיין לא נשאלה
        let questionFound = false;
        let foundQuestion = null;
        let questionLevel = gameState.level;
        
    // נשמור את כל השאלות שכבר נשאלו כמחרוזות לצורך השוואה קלה יותר
        const askedQuestionsStr = gameState.askedQuestions.map(q => JSON.stringify(q));
        
        // ננסה למצוא שאלה מהשלב הנוכחי, ואם לא נמצא נרד לשלבים קודמים
        while (!questionFound && questionLevel > 0) {
            // נבדוק אם יש שאלות זמינות בשלב זה
            const availableQuestions = clueBankByLevel[questionLevel] || [];
            
            // סינון השאלות שעדיין לא נשאלו
            const unansweredQuestions = availableQuestions.filter(q => 
                !askedQuestionsStr.includes(JSON.stringify(q))
            );
            
            if (unansweredQuestions.length > 0) {
                // יש שאלות שעוד לא נשאלו בשלב זה
                const randomIndex = Math.floor(Math.random() * unansweredQuestions.length);
                foundQuestion = unansweredQuestions[randomIndex];
                questionFound = true;
            } else {
                // אין שאלות בשלב זה שעוד לא נשאלו, נרד לשלב קודם
                questionLevel--;
            }
        }
        
        // אם לא נמצאה אף שאלה (כלומר כל השאלות בכל השלבים נשאלו),
        // נאפס את מערך השאלות שנשאלו ונתחיל מחדש
        if (!questionFound) {
            console.log("כל השאלות נשאלו - מאפס את מערך השאלות שנשאלו");
            gameState.askedQuestions = [];
            
            // ננסה שוב למצוא שאלה מהשלב הנוכחי
            questionLevel = gameState.level;
            const availableQuestions = clueBankByLevel[questionLevel] || [];
            
            if (availableQuestions.length > 0) {
                const randomIndex = Math.floor(Math.random() * availableQuestions.length);
                foundQuestion = availableQuestions[randomIndex];
                questionFound = true;
            } else {
                // אם אין שאלות בשלב הנוכחי בכלל, נסיים את המשחק
                endGame();
                return;
            }
        }
        
        // נשמור את השאלה הנוכחית
        gameState.currentQuestion = foundQuestion;
        
        // נוסיף את השאלה למערך השאלות שנשאלו
        gameState.askedQuestions.push(foundQuestion);
        
        // נציג את השאלה
        currentClue.textContent = gameState.currentQuestion[0]; // שאלה
        letterInfo.textContent = `אות התחלה: ${gameState.currentQuestion[2]}`; // אות ראשונה
        feedback.style.display = 'none';
        
        // נייצר את תיבות האותיות
        createLetterBoxesEnhanced(gameState.currentQuestion[3]);
    }

    // פונקציה משופרת ליצירת תיבות האותיות עם תמיכה במובייל
    function createLetterBoxesEnhanced(count) {
        const letterBoxesContainer = document.getElementById('letterBoxes');
        letterBoxesContainer.innerHTML = '';
        
        for (let i = 0; i < count; i++) {
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'letter-box';
            input.maxLength = 1;
            input.dataset.index = i;
            
            // עבור מכשירים ניידים
            if (isMobileDevice()) {
                input.readOnly = true; // מניעת פתיחת המקלדת הרגילה
            }
            
            letterBoxesContainer.appendChild(input);
        }
        
        setupLetterBoxEvents();
        
        // הוסף פוקוס לתיבה האחרונה
        const letterBoxes = document.querySelectorAll('.letter-box');
        if (letterBoxes.length > 0) {
            if (isMobileDevice()) {
                letterBoxes[letterBoxes.length - 1].classList.add('touch-focus');
            } else {
                letterBoxes[letterBoxes.length - 1].focus();
            }
        }
    }
    
    function setupLetterBoxEvents() {
        const letterBoxes = document.querySelectorAll('.letter-box');
        const hiddenInput = document.getElementById('hiddenInput');
        
        letterBoxes.forEach((box, index) => {
            box.addEventListener('input', (e) => {
                const nextIndex = index - 1;
                if (e.target.value && nextIndex >= 0) {
                    letterBoxes[nextIndex].focus();
                }
                
                updateHiddenInput();
            });
            
            box.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && !e.target.value) {
                    const prevIndex = index + 1;
                    if (prevIndex < letterBoxes.length) {
                        letterBoxes[prevIndex].focus();
                    }
                } else if (e.key === 'Enter') {
                    checkAnswer();
                } else if (e.key === 'ArrowRight') {
                    const nextIndex = index + 1;
                    if (nextIndex < letterBoxes.length) {
                        letterBoxes[nextIndex].focus();
                        e.preventDefault();
                    }
                } else if (e.key === 'ArrowLeft') {
                    const prevIndex = index - 1;
                    if (prevIndex >= 0) {
                        letterBoxes[prevIndex].focus();
                        e.preventDefault();
                    }
                }
            });
        });
        
        if (letterBoxes.length > 0) {
            letterBoxes[letterBoxes.length - 1].focus();
        }
    }
    
    function updateHiddenInput() {
        const letterBoxes = document.querySelectorAll('.letter-box');
        const hiddenInput = document.getElementById('hiddenInput');
        
        let answer = '';
        for (let i = letterBoxes.length - 1; i >= 0; i--) {
            answer += letterBoxes[i].value || '';
        }
        
        hiddenInput.value = answer;
    }

    function checkAnswer() {
    // בדיקה אם המשחק פעיל ולא במצב מעבר בין שאלות
    if (!gameState.isGameActive || gameState.isTransitioning) return;
    
    const userAnswer = hiddenInput.value.trim();
    
    const isCorrect = gameState.currentQuestion[1].some(answer => 
        userAnswer.toLowerCase() === answer.toLowerCase()
    );
    
    if (isCorrect) {
        // סימון שאנחנו במעבר כדי למנוע קריאות חוזרות
        gameState.isTransitioning = true;
        
        feedback.textContent = 'נכון! כל הכבוד!';
        feedback.className = 'feedback correct';
        feedback.style.display = 'block';
        
        gameState.score += 10;
        gameState.correctAnswersInLevel++;
        
        // השבתת כפתור הבדיקה עד שנטען שאלה חדשה
        submitAnswer.disabled = true;
        
        if (gameState.correctAnswersInLevel >= gameState.questionsToPassLevel) {
            levelUp();
        } else {
            setTimeout(() => {
                loadRandomQuestion();
                submitAnswer.disabled = false;
            }, 1000);
        }
    } else {
        feedback.textContent = 'לא נכון, נסה שוב!';
        feedback.className = 'feedback incorrect';
        feedback.style.display = 'block';
        
        // ניקוי האותיות במשבצות בעת תשובה שגויה
        clearLetterBoxes();
    }
    
    updateDisplay();
}
    
    // פונקציה לדילוג על השאלה הנוכחית
    function skipQuestion() {
    if (!gameState.isGameActive || gameState.skipsAvailable <= 0 || gameState.isTransitioning) return;
    
    // סימון שאנחנו במעבר
    gameState.isTransitioning = true;
    
    // הורדת דילוג אחד
    gameState.skipsAvailable--;
    
    // הוספת נקודה לכיוון המעבר לשלב הבא
    gameState.correctAnswersInLevel++;
    
    feedback.textContent = 'דילגת על השאלה, ממשיך לשאלה הבאה...';
    feedback.className = 'feedback';
    feedback.style.display = 'block';
    
    // השבתת כפתורים עד שנטען שאלה חדשה
    submitAnswer.disabled = true;
    document.getElementById('skipQuestion').disabled = true;
    
    // בדיקה אם הגענו לסוף השלב
    if (gameState.correctAnswersInLevel >= gameState.questionsToPassLevel) {
        levelUp();
    } else {
        setTimeout(() => {
            loadRandomQuestion();
            submitAnswer.disabled = false;
            updateSkipButton(); // זה יעדכן את מצב כפתור הדילוג
        }, 1000);
    }
    
    // עדכון תצוגת הדילוגים
    updateSkipButton();
    updateDisplay();
}

    // פונקציה לניקוי המשבצות לאחר תשובה שגויה
    function clearLetterBoxes() {
        const letterBoxes = document.querySelectorAll('.letter-box');
        letterBoxes.forEach((box) => {
            box.value = '';
        });
        
        // איפוס ערך השדה הנסתר
        hiddenInput.value = '';
        
        // החזרת פוקוס לתיבה האחרונה
        if (letterBoxes.length > 0) {
            if (isMobileDevice()) {
                // עבור מכשירים ניידים - הוספת מחלקת פוקוס מגע
                document.querySelectorAll('.letter-box.touch-focus').forEach(box => {
                    box.classList.remove('touch-focus');
                });
                letterBoxes[letterBoxes.length - 1].classList.add('touch-focus');
            } else {
                letterBoxes[letterBoxes.length - 1].focus();
            }
        }
    }

    function levelUp() {
    gameState.level++;
    gameState.currentQuestionIndex = 0;
    gameState.correctAnswersInLevel = 0;
    gameState.timeLeft += 30;
    // לא מאפסים את מערך השאלות שנשאלו, כדי שלא תחזורנה שאלות מהשלבים הקודמים
    
    // בדיקה אם הגענו לשלב 5 או כפולות של 5 - נוסיף דילוג
    if (gameState.level % 5 === 0) {
        gameState.skipsAvailable++;
        levelUpMessage.textContent = `עלית לשלב ${gameState.level}! +30 שניות וקיבלת דילוג נוסף!`;
    } else {
        levelUpMessage.textContent = `עלית לשלב ${gameState.level}! +30 שניות`;
    }
    
    levelUpMessage.style.display = 'block';
    setTimeout(() => {
        levelUpMessage.style.display = 'none';
        loadRandomQuestion();
        submitAnswer.disabled = false;
    }, 2000);
    
    updateDisplay();
    updateSkipButton();
}

    function endGame() {
        clearInterval(gameState.timer);
        gameState.isGameActive = false;
        
        finalScore.textContent = gameState.score;
        finalLevel.textContent = gameState.level;
        
        updateLeaderboard(gameState.playerName, gameState.score, gameState.level);
        
        gameOverModal.style.display = 'block';
    }

    // פונקציות תמיכה במובייל
    
    // 1. יצירת המקלדת הוירטואלית והוספתה לדום
    function createVirtualKeyboard() {
        const keyboardLayout = [
            ['פ', 'ם', 'ן', 'ו', 'ט', 'א', 'ר', 'ק'],
            ['ף', 'ך', 'ל', 'ח','י', 'ע', 'כ', 'ג', 'ד', 'ש'],
            ['backspace', 'ץ', 'ת', 'צ', 'מ', 'נ', 'ה', 'ב', 'ס', 'ז']
        ];
        
        const keyboard = document.getElementById('virtualKeyboard');
        if (!keyboard) return;
        
        keyboard.innerHTML = ''; // נקה את המקלדת אם קיימת
        
        keyboardLayout.forEach(row => {
            const keyboardRow = document.createElement('div');
            keyboardRow.className = 'keyboard-row';
            
            row.forEach(key => {
                const keyElement = document.createElement('div');
                if (key === 'backspace') {
                    keyElement.className = 'key key-backspace';
                    keyElement.innerHTML = '&#9003;'; // סימן מחיקה
                    keyElement.addEventListener('click', () => handleVirtualKeyPress('backspace'));
                } else {
                    keyElement.className = 'key';
                    keyElement.textContent = key;
                    keyElement.addEventListener('click', () => handleVirtualKeyPress(key));
                }
                keyboardRow.appendChild(keyElement);
            });
            
            keyboard.appendChild(keyboardRow);
        });
        
        keyboard.style.display = 'block';
    }

    // 2. הפעלת המקלדת הוירטואלית
    function handleVirtualKeyPress(key) {
        const letterBoxes = document.querySelectorAll('.letter-box');
        const focusedBox = document.querySelector('.letter-box.touch-focus') || 
                          document.querySelector('.letter-box:focus');
        
        if (!focusedBox) {
            // אם אין תיבה במיקוד, בחר את האחרונה
            if (letterBoxes.length > 0) {
                letterBoxes[letterBoxes.length - 1].classList.add('touch-focus');
                handleVirtualKeyPress(key); // נסה שוב אחרי שהוספנו פוקוס
            }
            return;
        }
        
        if (key === 'backspace') {
            // פעולת מחיקה
            focusedBox.value = '';
            
            // עבור לתיבה הבאה אם יש
            const currentIndex = Array.from(letterBoxes).indexOf(focusedBox);
            const nextIndex = currentIndex + 1;
            
            if (nextIndex < letterBoxes.length) {
                focusedBox.classList.remove('touch-focus');
                letterBoxes[nextIndex].classList.add('touch-focus');
            }
        } else {
            // הכנסת תו
            focusedBox.value = key;
            
            // עבור לתיבה הקודמת אם יש
            const currentIndex = Array.from(letterBoxes).indexOf(focusedBox);
            const prevIndex = currentIndex - 1;
            
            if (prevIndex >= 0) {
                focusedBox.classList.remove('touch-focus');
                letterBoxes[prevIndex].classList.add('touch-focus');
            }
        }
        
        // עדכון הקלט המוסתר
        updateHiddenInput();
    }

    // 3. איתור אם המכשיר הוא נייד
    function isMobileDevice() {
        return (typeof window.orientation !== "undefined") || 
              (navigator.userAgent.indexOf('IEMobile') !== -1) ||
              (window.matchMedia("(max-width: 480px)").matches);
    }

    // 4. אתחול התמיכה במכשירים ניידים
    function initMobileSupport() {
        if (isMobileDevice()) {
            // יצירת המקלדת הוירטואלית
            createVirtualKeyboard();
            
            // הוספת אירועי מגע לתיבות האותיות
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('letter-box')) {
                    // הסרת הפוקוס מכל התיבות האחרות
                    document.querySelectorAll('.letter-box').forEach(box => {
                        box.classList.remove('touch-focus');
                    });
                    
                    // הוספת פוקוס לתיבה שנלחצה
                    e.target.classList.add('touch-focus');
                    
                    // מניעת פתיחת המקלדת הרגילה
                    e.preventDefault();
                } else if (!e.target.closest('.virtual-keyboard')) {
                    // לחיצה מחוץ למקלדת ולתיבות - הסרת כל הפוקוסים
                    document.querySelectorAll('.letter-box').forEach(box => {
                        box.classList.remove('touch-focus');
                    });
                }
            });
            
            // שינוי הסגנון של המשחק למצב נייד
            document.body.classList.add('mobile-view');
        }
    }

    // התחלת המשחק
    document.addEventListener('DOMContentLoaded', function() {
        // אחזור אלמנטים מה-DOM
        const startScreen = document.getElementById('startScreen');
        const gameScreen = document.getElementById('gameScreen');
        const startButton = document.getElementById('startButton');
        const playerNameInput = document.getElementById('playerNameInput');
        const timerDisplay = document.getElementById('timerDisplay');
        const levelDisplay = document.getElementById('levelDisplay');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const currentClue = document.getElementById('currentClue');
        const letterInfo = document.getElementById('letterInfo');
        const levelProgress = document.getElementById('levelProgress');
        const hiddenInput = document.getElementById('hiddenInput');
        const submitAnswer = document.getElementById('submitAnswer');
        const feedback = document.getElementById('feedback');
        const gameOverModal = document.getElementById('gameOverModal');
        const closeModal = document.getElementById('closeModal');
        const finalScore = document.getElementById('finalScore');
        const finalLevel = document.getElementById('finalLevel');
        const playAgainButton = document.getElementById('playAgainButton');
        const levelUpMessage = document.getElementById('levelUpMessage');
        const leaderboard = document.getElementById('leaderboard');
        const leaderboardBody = document.getElementById('leaderboardBody');

        // חיבור אירועים
        startButton.addEventListener('click', function() {
            gameState.playerName = playerNameInput.value.trim() || 'אנונימי';
            initGame();
        });

        submitAnswer.addEventListener('click', checkAnswer);
        
        // הוספת אירוע לחיצה על כפתור הדילוג
        document.getElementById('skipQuestion').addEventListener('click', skipQuestion);

        hiddenInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        closeModal.addEventListener('click', function() {
            gameOverModal.style.display = 'none';
        });

        playAgainButton.addEventListener('click', function() {
            gameOverModal.style.display = 'none';
            startScreen.style.display = 'block';
            gameScreen.style.display = 'none';
        });

        window.addEventListener('click', function(e) {
            if (e.target === gameOverModal) {
                gameOverModal.style.display = 'none';
            }
        });
        
        // אתחול תמיכה במכשירים ניידים
        initMobileSupport();
    });
    </script>
</body>
</html>